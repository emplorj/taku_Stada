<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>クトゥルフ神話TRPG シナリオスタダ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <canvas id="particleCanvas"></canvas>

    <h1>クトゥルフ神話TRPG シナリオスタダ</h1>

    <!-- 地の文の枠 -->
    <div class="plain-text-block">
        <p>クトゥルフ神話TRPGってシナリオ書くの難しいですよね〜……</p>
        <p>「どんな神話生物を使えばいいの？」「ストーリーの組み立て方が分からない！」「プレイ時間はどのくらいになるの？」などなど、悩みは尽きません。</p>
        <p>そこで今回は、シナリオ作成の「スタダ」をテーマに、皆さんの疑問を募集しました！</p>
        <p>そして、その質問に答えてくれたのは、なんと！<a href="https://twitter.com/haisuikan_trpg" target="_blank" class="plain-text-author-link">はいすいかん(@haisuikan_trpg)</a>さんだ！</p>
    </div>

    <!-- 著者紹介セクション -->
    <div class="author-profile">
        <a href="https://twitter.com/haisuikan_trpg" target="_blank">
            <img src="haisuikan.png" alt="はいすいかんさんアイコン" class="profile-icon">
        </a>
        <div class="profile-content">
            <h2>回答者紹介：はいすいかん</h2>
            <p>TRPGシナリオなどを制作・頒布している「はいすいかん」です。</p>
            <a href="https://fanpla-s.booth.pm/" target="_blank"><img src="https://asset.booth.pm/static-images/banner/468x60_01.png"></a>
            <h3>代表作</h3>
            <ul class="works-list">
                <li class="works-card">
                    <!-- <a href="https://fanpla-s.booth.pm/items/6541063" target="_blank"> -->
                        <img src="ukihito.png" alt="憂き人の村 サムネイル" class="works-thumb">
                        <div class="works-details">
                            <h4 class="works-title">憂き人の村</h4>
                            <p class="works-description">なんと卓スタダ描き下ろし。<br>初心者もやりやすい<br>クラシックホラー。</p>
                        </div>
                    <!-- </a> -->
                </li>
                <li class="works-card">
                    <a href="https://fanpla-s.booth.pm/items/4930451" target="_blank">
                        <img src="https://booth.pximg.net/c/300x300_a2_g5/705512e0-95a8-406c-af33-609edd678785/i/5875931/41961283-0478-43f3-b8e7-c6696151127b_base_resized.jpg" alt="瑠璃色の花冠を君に サムネイル" class="works-thumb">
                        <div class="works-details">
                            <h4 class="works-title">瑠璃色の花冠を君に</h4>
                            <p class="works-description">三人兄弟 × 秘密 × ？？？<br>末っ子の誕生日を祝おう。<br>2PL+KPCの秘匿。</p>
                        </div>
                    </a>
                </li>
                <li class="works-card">
                    <a href="https://fanpla-s.booth.pm/items/5363380" target="_blank">
                        <img src="https://booth.pximg.net/c/300x300_a2_g5/705512e0-95a8-406c-af33-609edd678785/i/5363380/215c17d1-0615-4b2f-b4f3-c91391fe0dc7_base_resized.jpg" alt="うおーっ！？太刀だと思ったら太刀魚だ！！？ サムネイル" class="works-thumb">
                        <div class="works-details">
                            <h4 class="works-title">うおーっ！？太刀だと思ったら太刀魚だ！！？</h4>
                            <p class="works-description">愛刀が太刀魚に！銃が雁に！<br>短時間で刀と銃が持てる<br>ハチャメチャシナリオ！</p>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- 質問折りたたみブロック -->
    <details class="question-summary-block">
        <summary>
            <h2>今回は以下のような質問を送ってきてくれたぞ！</h2>
            <p>※クリックで質問一覧を展開/折りたたみ</p>
            <span class="arrow-icon"></span>
        </summary>
        <div class="questions-list">
            <ul>
                <p>質問をクリックすれば、対応した回答に飛びます</p>
                <li class="linked-question question-divider"><a href="#qa-1">どういう神話生物が作るシナリオに出すにあたって合っているかの見極め方<br>クトゥルフルルブの最後の辺りのページを見ればいいんですかね…？神話生物一覧的なページがどこに載っているかが、わからない</a></li>
                <li class="linked-question"><a href="#qa-4">起承転結の組み立て方<br>参考にしたいのでとりあえずみなさんがどうやって最初のシナリオの枠組みを考えているか、組み立てメモのとり方、などなど教えていただきたいです　現在やりたいことはぼんやりあるのですが、どこから手をつけていいのかが分からない状況…</a></li>
                <li class="linked-question question-divider"><a href="#qa-2">シナリオの根幹を神話生物・クトゥルフ神話的要素にからめるのがいまだに慣れません</a></li>
                <li class="linked-question question-divider"><a href="#qa-4">シナリオの広げ方がわからん</a></li>
                <li class="linked-question"><a href="#qa-2">神話生物ありきでシナリオを作るか、シナリオありきで合った神話生物を乗せるかわからない<br>後者の方法で組んだときに神話生物が合わなかったときにどうしよう…ってなる</a></li>
                <li class="linked-question question-divider"><a href="#qa-7">あと、クトゥルフといえば謎解きありきみたいな感じで考えてしまっているので、そうじゃなくてもやれるものについて知りたい</a></li>
                <li class="linked-question question-divider"><a href="#qa-3">そもそもストーリーを作るのが不得意なのでそのコツを一番知りたいかもしれません</a></li>
                <li class="linked-question question-divider"><a href="#qa-4">どういう感じにシナリオ本文にまとめ上げたらいいのかが分からない<br>シナリオの方向性、大雑把なエンド条件などをシナリオ本文に書こうとするのが難しい</a></li>
                <li class="linked-question question-divider"><a href="#qa-3">話の流れ……？</a></li>
                <li class="linked-question"><a href="#qa-4">ストーリーの構成、選択肢の与え方、</a></li>
                <li class="linked-question question-divider"><a href="#qa-10">人を楽しませる方法</a></li>
                <li class="linked-question"><a href="#qa-5">①（比較的楽だと思われるCoCですら既に）バランス調整が難しい。程よくヒリつきたいが、簡単にロストはさせたくない。</a></li>
                <li class="linked-question"><a href="#qa-6">②どこまでシナリオテキストで書き込むべき？公式シナリオなんかは本当に簡潔に描写と何が起こるか、程度書かれてるけど、それだと初心者が回すとき回しにくいような？</a></li>
                <li class="linked-question"><a href="#qa-9">③最終的に、独りよがりなシナリオになっていないかが分からない。これは人に見てもらうしか無いんだろうけど、皆には回ってほしい。このジレンマをどう解決するか。</a></li>
                <li class="linked-question"><a href="#qa-8">④シナリオ書いて、実際の稼働日がどのくらいになるか全く読めない。</a></li>
            </ul>
        </div>
    </details>

    <div id="qa-1" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>1. 神話生物の選び方・絡め方</h2>
                <p>これは本当に難しい。</p>
                <p>バシッと1発で決め打ちするのはほぼ無理です。</p>
                <p>『この神話生物を使うぞ！』という気持ちで書き始めない限り多分1発決めはないと思います。</p>
                <p>なのでとりあえず時間がある時にルルブやマレモンの神話生物の記載を読むのが1番！なのですが、そんな時間と読んでも覚えてられる記憶力がねーよ！！ってなるのがオチです。</p>
                <p>そこで私がやっている方法をとりあえず3つほど紹介します。</p>

                <h3>→検索をかけてみる</h3>
                <p>だいたいのシナリオの流れ、何をしたいかさせたいかが決まってる場合はもうシンプルに検索かけるのが手っ取り早いです。</p>
                <p>例えば神話生物から拷問を受けている状況が作りたいな〜と思ったらお手元のデバイスで『神話生物 拷問』『クトゥルフ神話TRPG 拷問』などで調べれば良いわけです。</p>
                <p>そしたら多分2ページくらいまでにはムーンビースト、深きもの、イゴーロナク辺りが出てくると思うのでそれをルールブックで調べて自分なりに解釈して使います。</p>
                <p>また、ルールブックを見る時に前後の神話生物なんかも確認しておくと次回に活かせたり意外な発見があったりします。</p>

                <h3>→とりあえず神話生物だけ何体かピックアップしてみる</h3>
                <p>構想しているシナリオ自体が朧げでとりあえず良いのいないかな〜という時はルールブックを適当にぱっと開いてそこにいた神話生物の特徴を読み込んでみるのもありです。</p>
                <p>よく見かける神話生物にも新しい発見がありますし、どマイナーなやつを引いたらそのまま全部知識になります。</p>
                <p>特に"結局よくわからん奴ら"みたいな記述のやつはラッキーで、どう解釈しても間違いにならないという利点があります。</p>

                <h3>→自分がよそのシナリオで会ったことのあるやつを使う</h3>
                <p>正直1番確実で簡単な方法です。</p>
                <p>知ってるものの方が知らないものより表現しやすいですし、解釈の幅を広げたり誇張したりもしやすいはずです。</p>
                <p>例えばミ=ゴ、イス人、ニャルラトホテプなどは色々なシナリオで見かける神話生物達ですが、彼らがよく出てくるのはそれなりの理由があります。</p>
                <p>人間に対して積極的に関わって来る、敵にも味方にもなりうる、知性があり戯れることもある、便利な道具や呪文を使う、そもそもみんなよく知っていて説明がなくても良い、などなど、使いやすい理由が揃っているのです。</p>
                <p>特に理由がなければ、最初のうちはマイナーな神話生物よりもよく見る神話生物を使う方が簡単かも知れません。</p>

                <h3>「神話生物を出さない」という選択肢</h3>
                <p>さて、ここまでは神話生物をどう選ぶかという視点で考えていきましたが、『神話生物を出さない』というのも方法の一つ。</p>
                <p>◯◯を信仰している教団の"人間"、魔術的な能力でPC達に危害を加えようとした"人間"、偶然イス人の超科学アイテムを手に入れた"人間"など、人間を黒幕にする手段はいくらでもあるわけです。</p>
                <p>人間なのでPC達でも対抗の手段が充分にあり、ギミックをシンプルにしても成立します。</p>
                <p>また、この場合神格本人が登場する必要がないため、正気度の減少も抑えることができ、軽いシナリオを書くのにもちょうど良いです。</p>
            </div>
        </div>
    </div>

    <div id="qa-2" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>2. 神話生物とシナリオの構築順序</h2>

                <h3>・シナリオを書く前に神話生物を決める</h3>
                <p><b>メリット</b>：最後の最後になってぴったりの神話生物が見つからないという事故が起きない</p>
                <p><b>デメリット</b>：神話生物の話から上手く誇張したり解釈を膨らませられないと面白みやオリジナリティに欠けてしまう</p>

                <h3>・シナリオを書いてから神話生物を決める</h3>
                <p><b>メリット</b>：最初に書きたいと思った内容に近いものを比較的少ない制約で自由に書くことができる</p>
                <p><b>デメリット</b>：内容に沿う神話生物が見つけられない、またはいないことがある</p>
                <p>どちらも一長一短なので同時進行で辻褄合わせながら良い感じにまとめていくという手法もあるかと思います。</p>
                <p>また、ルールブックにも記載されている通りオリジナルの神格を作成するのも手。</p>
                <p>ただしその場合は戦闘はしないようにするのが無難かもしれません。</p>
                <p>ただでさえ人間は脆いので素人調整のオリジナル神格だと思いがけずボコボコにしてしまうかもしれないので……</p>
            </div>
        </div>
    </div>

    <div id="qa-3" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>3. ストーリー作成のコツ</h2>
                <p>これは多分人によってやり方違うので私のやり方を2つほど紹介いたします！好きなようにやってみよう！</p>

                <h3>・1番やりたいシーンを最初に書いてしまう</h3>
                <p>例えば「高いところから飛び降りでもう片方が下で抱き留めるシーン」がやりたい！と思ったらそこから書き始めてしまうわけです。</p>
                <p>そこが決まったらPCも2人必要だなとか片方はKPCでもいいなとか、最後高いところに行くんだから道中は登っていく話になるなとか、他のところも自然と決まっていく……かも。</p>
                <p>そもそも世の中にこれだけシナリオが溢れている中「書いてみたい」と思った時点であなたが見たいシーンがきっとあるんですよ。</p>
                <p>それを1番最初に文字にして起こしてみるのはどうでしょう？</p>

                <h3>・回す相手を想定して考えてしまう</h3>
                <p>「今回のシナリオは〇〇さんのとこの◯ちゃんと××さんのとこの×ちゃんに回すぞ」と先に決めてしまうわけです。</p>
                <p>するとこの2人にやらせたいこと、この2人でやらせたいこと、この2人ならこう返してくれるよな！みたいなのが想像しやすいかと思います。</p>
                <p>また、この2人のPLさんが好きそうなシーンを入れてあげようとか、そこを起点に上の方法を混ぜて作ったりとか、そんなような進め方ができるのでおすすめです。</p>
            </div>
        </div>
    </div>

    <div id="qa-4" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>4. シナリオの構成とエンド分岐</h2>

                <h3>起承転結は必要か？</h3>
                <p>起承転結要らなくないですか？</p>
                <p>というのは私が昔持ち込みしてた時に編集さんに言われたのですが、「承転結じゃないとテンポが遅いくらい」らしいです。</p>
                <p>私もそう思っていて、特に丁寧な導入ってTRPGだと冗長に感じることも多いので序盤からバンバン展開して行く方が飽きないかなぁと。</p>
                <p>勿論シナリオのテイストにもよるので日常からの転落を描写したいのであれば日常は多少丁寧で充実してる方がいいこともありますが……</p>
                <p>ストーリーは文章作品ではなくシナリオにのでガチガチに固める必要はなくて、むしろ少し余白がある方がPCは動きやすいかもです。</p>
                <p>導線だけ用意するという形ですね。</p>
                <p>なので、大目標を最初に提示して小目標を次々出す、の流れが分かりやすく進めるかと思います。</p>
                <p>例として大目標に『改造人間にされたので元に戻りたい』にした場合、小目標1に「改造人間にした人物を探す（探索パート）」→小目標2に「改造人間にした人物をぶっとばす（戦闘パート）」みたいに組んでいくのがわかりやすいかと思います。</p>
                <p>大目標がないシナリオは何していいかわからないですからね。</p>
                <p>その点では白い部屋系は確実に『脱出』が大目標なのでわかりやすいのですが、謎解きを作るという別の脳みそが必要になるので初心者ほどシティか半クロの方がおすすめです。</p>
                <p>謎解きは私が素人の作るものはあまり好きじゃないのでここでは触れないでおきます。</p>

                <h3>エンド分岐の考え方</h3>
                <p>エンドの分岐は頭を悩ませるポイントですね。</p>
                <p>小説が書ける人ほど難しいという説もあります。</p>
                <p>作者が想定していないエンドは本当に難しい。</p>
                <p>ただ1番最初に考えると良いのかな、と思うのはPCが駄目だった時の最悪の結末です。</p>
                <p>逆にここから作っていくと、黒幕の目的もはっきりしますしPCが何をすれば1番良い結末を得られるのかもわかってきます。</p>
                <p>その上でこういう選択のPCもいるだろうな、という別の結末も作ってあげると良いかなと思います。</p>
                <p>作者が「このエンドにはいかんやろ」って思いながら作ったエンドに意外と行くPCがいる、というのはシナリオを描きはじめて驚いたポイントです。</p>
                <p>意外と皆さんの選択は多種多様なのでまぁ想定しているエンドにいったら用意してたのを読み上げて、そうじゃなければその場で生やせば良いか、くらいのノリで大丈夫だと思います。</p>
            </div>
        </div>
    </div>

    <div id="qa-5" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>5. バランス調整と難易度設定</h2>
                <p>CoCはバランス調整難しいよ！PCのステも安定しないし！</p>
                <p>基本的に神格は強いので殴り合うと死にます、人間は脆い。</p>
                <p>殴り合うなら人間とか下位の奉仕種族くらいまでかな……道中で武器とか呪文などの対抗策を持たせるならもうちょい上でもいけるかも。</p>
                <p>なので基本的にはSAN0になるかならないか、発狂するかしないかでヒリつきましょ。</p>
                <p>D100クラス出す時は何かしらの救済策を用意しておくと安心してヒリつけます。</p>
                <p>ダイス勝負は何のシステムでも楽しいものです。</p>
                <p>その上で私は確率計算をCoCでもソドワでもした上でシナリオを書く派なので、PCとエネミーが同時に期待値を出した場合、必ずPCが勝つ調整にしています。</p>
                <p>特にソドワなんかでPC側全然攻撃が命中しないとか、魔法全部抵抗されるとか結構ストレスなので……</p>
            </div>
        </div>
    </div>

    <div id="qa-6" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>6. シナリオテキストの記述量</h2>
                <p>公式シナリオを読んでみて、もうちょっと多い方が良いか少ない方が良いかで考えるといいかもです。</p>
                <p>自分が回しやすいなと思ったシナリオの文章量を真似するのもいいですね。</p>
                <p>最近の同人シナリオの流行りは割と描写が重め、多めなイメージです。</p>
            </div>
        </div>
    </div>

    <div id="qa-7" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>7. 謎解きギミックの考案</h2>
                <p>私も思いつかない！</p>
                <p>TRPGにおける素人謎解き好きじゃないからかも〜〜〜〜ごめんね。</p>
                <p>謎解きを主たる物として配置した場合TRPGである必要性がなくなってしまうので、TRPGである必要性がある上で謎解きさせる方が楽しいかもしれない。</p>
                <p>そしてTRPGなのでそもそも「キャラにかっこよく謎解きをさせたい！」というだけなのであれば謎の解は全部情報として出してしまっても問題ないのである。</p>
                <p>よって、「何故謎解きギミックでなければならないのか」を先に考えた方が良いかもしれない。</p>
            </div>
        </div>
    </div>

    <div id="qa-8" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>8. プレイ時間の目安</h2>
                <p>こればかりは書いて回すを繰り返すしかなさそうです。</p>
                <p>一応ボイセとテキセでは3〜4倍くらいかかる時間が変わるという説がありますがRP次第なので難しいですね。</p>
                <p>試しに今まで書いたシナリオの文字数を少し数えてみました。</p>
                <p>参考にしてみてください。</p>
                <p>プレイ時間は全てココフォリア使用のボイセを想定しています。</p>
                <ul>
                    <li>『<a href="https://fanpla-s.booth.pm/items/6541063" target="_blank">知らぬが手向け</a>』 2時間〜/17407文字</li>
                    <li>『<a href="https://fanpla-s.booth.pm/items/6951294" target="_blank">鉛と灰</a>』 2時間半〜3時間/30473文字</li>
                    <li>『<a href="https://fanpla-s.booth.pm/items/5875931" target="_blank">瑠璃色の花冠を君に</a>』 6〜8時間/55986文字</li>
                </ul>
                <p>だいたいざっくり1万文字で1時間前後になりそうですね。</p>
            </div>
        </div>
    </div>

    <div id="qa-9" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>9. 独りよがりなシナリオになっていないかの解決策</h2>
                <p>すごい、わかります。</p>
                <p>そして結局見せちゃったりします。</p>
                <p>私がボイセしかしないのでテキセの人に見せてますね。</p>
                <p>おそらくこういう人は結構多くて、シナリオ書きさん向けのDiscordサーバーもあるのでそこで見て見てしてる人もいます。</p>
                <p>誰にも見て見てせずに回す時は緊張しますし、回しながら調整するくらいのつもりでいきましょう。</p>
            </div>
        </div>
    </div>

    <div id="qa-10" class="qa-section">
        <div class="speaker-icon-wrapper">
            <img src="haisuikan.png" alt="アドバイスアイコン" class="speaker-icon">
        </div>
        <div class="bubble-container">
            <div class="speech-bubble">
                <h2>10. 人を楽しませる方法</h2>
                <p>ターゲットは絞った方が、ええ。</p>
                <p>別にシナリオに限った話ではないのですが万人受けするのは本当に難しいので、今日はこの人に楽しんでもらうぞ！くらいが良いですね。</p>
                <p>みんなが喜ぶクソデカパーティを企画するのは難しくても1人が喜ぶプレゼントなら思いつくじゃないですか、そういう感じです。</p>
                <p>4PLとかならそれぞれ順番にプレゼントを渡していくようなシナリオにするといいですね。</p>
                <p>そうするとみんなにも見せ場ができますし、全員に楽しんでもらえると思います。</p>
            </div>
        </div>
    </div>

    <!-- 新しい締めくくりの文言 -->
    <div class="plain-text-block">
        <p>いかがでしたか？ このインタビューが、皆さんのシナリオ作成の助けになれば幸いです。</p>
        <p>これを読んだ皆さんが、素晴らしいシナリオを作り、最高のセッションを楽しめる日が来ることを願っています！</p>
        <p>皆さんのシナリオを心よりお待ちしております！</p>
    </div>
    <div class="plain-text-block">
        <p>また、以下よりソード・ワールド2.5やダブルクロス3rdといった、クトゥルフ神話TRPG以外の質問も募集しております。</p>
        <p>こちらの回答はエンJやviwなどになりますが、答えられる範囲で答えるので他のシステムのシナリオも作ってみたいって方はこちらからどうぞ！</p>
        <h1><a href="https://forms.gle/2vSSnnjh61mZ3hdE6" target="_blank" class="plain-text-author-link">おたよりを送る</a></h1>
    </div>
    <footer>
        <p>&copy; 2025 卓スタダ.</p>
    </footer>

    <!-- Back to Top Button -->
    <button onclick="topFunction()" id="backToTopBtn" title="トップへ戻る">▲</button>

    <script>
        // Particle Canvas Script
        const canvas = document.getElementById('particleCanvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        const particleCount = 80; // パーティクルの数を調整
        const particleSize = 1.5; // パーティクルのサイズを調整
        const particleColor = 'rgba(255, 255, 255, 0.4)'; // 白、半透明

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles(); // キャンバスサイズ変更時にパーティクルを再初期化
        }

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * (particleSize * 2 - particleSize / 2) + particleSize / 2;
                this.speedX = Math.random() * 0.4 - 0.2; // -0.2 to 0.2
                this.speedY = Math.random() * 0.4 - 0.2;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                // 画面外に出たら反対側から再出現
                if (this.x > canvas.width + this.size) this.x = -this.size;
                if (this.x < -this.size) this.x = canvas.width + this.size;
                if (this.y > canvas.height + this.size) this.y = -this.size;
                if (this.y < -this.size) this.y = canvas.height + this.size;
            }

            draw() {
                ctx.fillStyle = particleColor;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
        }

        function animateParticles() {
            requestAnimationFrame(animateParticles);
            ctx.clearRect(0, 0, canvas.width, canvas.height); // キャンバスをクリア

            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
            }
        }

        window.addEventListener('load', () => {
            resizeCanvas();
            animateParticles();
        });
        window.addEventListener('resize', resizeCanvas);


        // Scroll animation and Back to Top button scripts
        document.addEventListener('DOMContentLoaded', function() {
            const qaSections = document.querySelectorAll('.qa-section');
            const backToTopBtn = document.getElementById("backToTopBtn");

            const observerOptions = {
                root: null, /* ビューポートをルートとする */
                rootMargin: '0px',
                threshold: 0.1 /* 要素の10%が見えたら発動 */
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        /* 要素が見えたらアニメーションクラスを追加 */
                        const bubbleContainer = entry.target.querySelector('.bubble-container');
                        if (bubbleContainer) {
                            bubbleContainer.classList.add('is-visible');
                        }
                        /* 一度表示されたら監視を停止（繰り返さないように） */
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            qaSections.forEach(section => {
                observer.observe(section);
            });

            // When the user scrolls down 200px from the top of the document, show the button
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            window.topFunction = function() {
                document.body.scrollTop = 0; // For Safari
                document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
            }
        });
    </script>

</body>
</html>
