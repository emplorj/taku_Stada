<!DOCTYPE html>
<html lang="ja">
<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>卓スタダ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ★★★ ここから追加 ★★★ -->
    <button class="hamburger-menu" id="hamburger-menu" aria-label="メニューを開閉する">
        <span></span>
        <span></span>
        <span></span>
    </button>
    <div class="menu-overlay" id="menu-overlay"></div>
    <div id="home-logo-placeholder"></div> <!-- ロゴプレースホルダーは main-content の外 -->
    <canvas id="particleCanvas"></canvas> <!-- パーティクルキャンバスも main-content の外 -->

    <nav id="tableOfContents" class="side-menu">
        <ul>
            <h2>もくじ</h2>
            <li><a href="#coc-qa-section">CoCシナリオスタダ</a></li>
            <li><a href="#schedule-section">予定</a></li>
            <li><a href="#slides-section">スライド</a></li>
            <li><a href="#archive-section">アーカイブ</a></li>
            <li><a href="#ccfolia-tools-section">ココフォリアツール</a></li>
            <li><a href="#content-policy-section">地雷チェックシート</a></li>
            <li><a href="#color-codes-section">TRPGシステム色分け</a></li>
            <li><a href="#yutosheet-template-section">ゆとシートテンプレ</a></li>
        </ul>
    </nav>

    <div class="main-content">
        <header class="main-header">
            <h1>卓スタダ</h1>
            <p class="subtitle">いままでの犯行</p>
        </header>

        <!-- ロゴ画像を横並びにするためのコンテナ -->
        <div class="logo-container">
            <img src="img/卓スタダロゴ.png" alt="卓スタダロゴ" class="logo-image">
            <img src="img/卓スタダminiロゴ.png" alt="卓スタダミニロゴ" class="logo-image mini">
        </div>

        <!-- 目次セクション -->
        <h2 id="coc-qa-section" class="section-title start-title"><a href="CoC_Q&A.html">✨ クトゥルフ神話TRPG シナリオスタダ</a></h2>
        <div class="plain-text-block intro-block">
            <p>クトゥルフ神話TRPGシナリオ作成に悩むあなたへ、<a href="https://twitter.com/haisuikan_trpg" target="_blank" class="plain-text-author-link">はいすいかん(@haisuikan_trpg)</a>さんからのアドバイスをまとめました。</p>
            <p>「どんな神話生物を使えばいいの？」「ストーリーの組み立て方が分からない！」といった疑問を解決し、自作シナリオを回そう！</p>
        </div>
        
        <div class="plain-text-block additional-info-section">
            <h2 id="schedule-section">予定</h2>
            <ul>
                <li><a href="https://character-sheets.appspot.com/schedule/list?key=ahVzfmNoYXJhY3Rlci1zaGVldHMtbXByHAsSEkRpc2NvcmRTZXNzaW9uRGF0YRimu5y4BQw" target="_blank">デイコード</a>: 予定の入力を行う</li>
            </ul>
            <div id="custom-calendar-container">
                <div class="calendar-nav">
                    <button id="prev-week" title="前の週へ">▲</button>
                    <span id="current-week-display"></span>
                    <button id="next-week" title="次の週へ">▼</button>
                </div>
                <div id="calendar-grid">
                    <!-- Calendar will be rendered here by JavaScript -->
                </div>
            </div>
        </div>
        <h1 id="slides-section">卓スタダで用いたスライド</h1>
        <h3 class="start-title" style="background-color: #508040;">はじめよう　クトゥルフ神話RPG</h3>
        <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vSOxfzmGJTdTEXXiXOHIxlueVIfbG9Xuq8NSrv0wrgwLUHV84OfLRcyU-I0WjLSXYFfMJEfcubHJ9KR/pubembed?start=false&loop=true&delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
        <h3 class="start-title" style="background-color: #EA6464;">はじめよう　ソード・ワールド2.5</h3>
        <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vTkciQV57Bo7Jzgk85SmrG9JJPMXjaGHYweGxTQhWbeWzD5bKzkcvzBeFQXn1EHwRdM7mHVGpoeI3g4/pubembed?start=false&loop=false&delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
        <h3 class="start-title" style="background-color: #902222;">はじめよう ダブルクロス3rd</h3>
        <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vRwmLeSj3YfrpHtB158EME-vQ1LbzuB3cnVfqAmJkAvcvqvv84Yk7U8dGk8Cjw79WVL7ixOETUosDXU/pubembed?start=false&loop=false&delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
        <h3 class="start-title" style="background-color: #505050;">はじめよう ネクロニカ</h3>
        <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vTTJMqZnvl2aLEbSvDq0lGRIQWkYAL2KsMgworFsdvdzo9KcAiKJtoyhU2Mt6SFZsuZfV7-rMHcd0_U/pubembed?start=false&loop=false&delayms=3000" frameborder="0" width="960" height="569" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>


        <div class="plain-text-block additional-info-section">
            <h2 id="archive-section">◆アーカイブ</h2>
            <ul>
                <li><a href="https://docs.google.com/spreadsheets/d/17wStGJ37GjaINrjZMFZgmacYOPeH9F8ZiahhtJd_nxI/" target="_blank">スプレッドシート</a>: 卓の履歴や、キャラのまとめ、PLの所持ルールブックなんかをここに記す</li>
                <li>
                    <a href="https://www.dropbox.com/scl/fo/lnuvslrnsqqyye3ka3dfa/APfMlkTTNNrt9Lgnx5sOOVA?rlkey=t5ltutxf80yqz8p499dae7loj&dl=0" target="_blank">ログ置き場（Dropbox）</a>
                    <p style="font-size: 0.9em; margin-top: 0.3em;">終わったシナリオのログが一元的にみられたらいいねってところ。(Discord: <a href="https://discord.com/channels/641914997894807552/1212090718387044503" target="_blank">該当チャンネル</a>)</p>
                </li>
            </ul>
        </div>

        <div class="plain-text-block additional-info-section">
            <h2 id="ccfolia-tools-section">◆ココフォリアツール</h2>
            <p>楽屋ココフォリア: <a href="https://ccfolia.com/rooms/6584j5uuj" target="_blank">雑にダイスを振ったり、テストしたりする部屋</a></p>
            <p>キャラシコピペツール（CoC、SW、銀剣など）: <a href="https://kurian.websozai.jp/charaPiece/top" target="_blank">外部サイト</a></p>
            <p>キャラシコピペツール（DX3rd、サタスペ、ネクロニカなど）: <a href="https://script.google.com/macros/s/AKfycbwUPjuiBEGUrfrKcKZCrRAqiB7V687tbA5uxy7PbKxSkgMGnoIMob7yK0PNEvBoUcbTTA/exec" target="_blank">サイト</a></p>
            <p>ダブルクロス コンボジェネレーター: <a href="https://docs.google.com/presentation/d/1ZHHNs_yR37joGYSBiYfQ_C_mwmhdFNHmxkA7fItBkKs/edit#slide=id.g2710a927f4d_0_5" target="_blank">説明スライド</a> / <a href="https://docs.google.com/spreadsheets/d/1jMnjoqxiJZanm6L9-HsXw1crxBdQB_SZQgM4O8Tk7MM/" target="_blank">本体(スプレッドシート)</a></p>
            <p>シナリオテンプレ／CoC（あばれぢから）: <a href="https://docs.google.com/spreadsheets/d/1MifivHkro_g2S_9QFYJoCa4eBaSNw-JqoEexGCEr41w/edit?usp=sharing" target="_blank">スプレッドシート</a></p>
        </div>

        <div class="plain-text-block additional-info-section">
            <h2 id="content-policy-section">地雷チェックシート</h2>
            <p>セッション前に参加者間の認識を合わせるため、弊社では規定のものとして下記シートの使用を推奨しています。</p>
            <ul class="works-list" style="justify-content: flex-start; margin-top: 20px;">
                
                <li class="works-card">
                    
                    <a href="https://booth.pm/ja/items/3432975" target="_blank">
                        <img src="https://booth.pximg.net/c/300x300_a2_g5/6852d26d-e396-4782-b31c-192ad0dac15b/i/3432975/df64c1c0-d649-43e6-827b-8e8d4a463ad9_base_resized.jpg" alt="細かすぎる地雷チェックシート サムネイル" class="works-thumb">
                        <div class="works-details">
                            <h4 class="works-title">細かすぎる<br>地雷チェックシート</h4>
                            <p class="works-description">
                                これを使うと良い
                            </p>
                        </div>
                    </a>
                </li>
            </ul>
        </div>

        <div class="plain-text-block additional-info-section">
            <h2 id="color-codes-section">スタダのキャラ紹介とかで、共通規格として用いているTRPGシステムと色の組み合わせ</h2>
            <ul class="color-code-list" id="trpg-color-list">
                <!-- 色リストはJavaScriptで動的に生成されます -->
            </ul>
            <p>Q.普通の青って使わないん？<br>A. その他が青になりがち。</p>
        </div>

        <div class="plain-text-block additional-info-section">
            <h2 id="yutosheet-template-section"><a href="https://yutorize.2-d.jp/" target="_blank">ゆとシート</a>用パーソナル情報テンプレ</h2>
            <p>お手持ちのゆとシートの「容姿・経歴」とか「その他」とかの枠にでも付け加えてもらえると助かります<br>
            入れたい情報に沿って、同じ形式で情報を追加してってください（好きなものとか、弱点とか！）</p>
            <div class="code-block-container">
                <pre class="code-block" id="yutosheet-template"><code>[&gt;]**パーソナルデータ
:性別|
:身長|
:体重|
:年齢|
: 髪 |
: 瞳 |
: 肌 |
[---]</code></pre>
                <button class="copy-button" onclick="copyCodeToClipboard('yutosheet-template')">コピー</button>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 卓スタダ.</p>
        </footer>
    </div> <!-- .main-content end -->

    <!-- Back to Top Button -->
    <button onclick="topFunction()" id="backToTopBtn" title="トップへ戻る">▲</button>
    <script src="common.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // TRPGシステムの色リストを生成
        const colorListContainer = document.getElementById('trpg-color-list');
        
        if (colorListContainer && typeof TRPG_SYSTEM_COLORS !== 'undefined') {
            const systemsToShow = [
                { displayName: 'クトゥルフ神話TRPG', colorNameDesc: '緑', systemKey: 'CoC' },
                { displayName: 'クトゥルフ神話TRPG(秘匿)', colorNameDesc: '濃緑', systemKey: 'CoC-㊙' },
                { displayName: 'ソード・ワールド2.5', colorNameDesc: '薄赤', systemKey: 'SW' },
                { displayName: 'ダブルクロス The 3rd Edition', colorNameDesc: '赤', systemKey: 'DX3' },
                { displayName: '永い後日談のネクロニカ', colorNameDesc: '灰', systemKey: 'ネクロニカ' },
                { displayName: 'サタスペ', colorNameDesc: 'オレンジ', systemKey: 'サタスペ' },
                { displayName: 'マモノスクランブル', colorNameDesc: '黄橙', systemKey: 'マモブル' },
                { displayName: '銀剣のステラナイツ', colorNameDesc: '暗い青', systemKey: '銀剣' },
                { displayName: 'ウマ娘TRPG', colorNameDesc: '桃', systemKey: 'ウマ娘' },
                { displayName: 'シノビガミ', colorNameDesc: '紫', systemKey: 'シノビガミ' },
                { displayName: 'アリアンロッドRPG 2E', colorNameDesc: '黄色', systemKey: 'AR' }
            ];

            systemsToShow.forEach(sys => {
                const colorCode = TRPG_SYSTEM_COLORS[sys.systemKey] || TRPG_SYSTEM_COLORS['default'];
                const listItem = document.createElement('li');

                // ★★★ ここから修正 ★★★
                // flexコンテナとしてレイアウトを制御するためのクラスを追加
                listItem.classList.add('color-list-item');
                // ★★★ ここを修正 ★★★
                // ボタンの位置を code タグの直後に変更
                listItem.innerHTML = `
                    <span class="color-list-text">${sys.displayName}：（${sys.colorNameDesc}）</span>
                    <span class="color-chip" style="background-color: ${colorCode};"></span>
                    <code class="color-code-text">${colorCode}</code>
                    <button class="copy-color-button" data-colorcode="${colorCode}" title="カラーコードをコピー">コピー</button>
                `;
                // ★★★ 修正はここまで ★★★

    colorListContainer.appendChild(listItem);
            });
        } else if (colorListContainer) {
            colorListContainer.innerHTML = '<li>色定義の読み込みに失敗しました。</li>';
            console.error('TRPG_SYSTEM_COLORS is not defined or colorListContainer not found.');
        }

        // ★★★ ここから追加 ★★★
        // コピーボタンのクリックイベント処理
        if (colorListContainer) {
            colorListContainer.addEventListener('click', function(event) {
                const button = event.target.closest('.copy-color-button');
                if (button) {
                    const colorToCopy = button.dataset.colorcode;
                    navigator.clipboard.writeText(colorToCopy).then(() => {
                        // コピー成功時のフィードバック
                        const originalText = button.textContent;
                        button.textContent = 'OK!';
                        button.disabled = true; // 連打防止
                        
                        // 1.5秒後にボタンの表示を元に戻す
                        setTimeout(() => {
                            button.textContent = originalText;
                            button.disabled = false;
                        }, 1500);
                    }).catch(err => {
                        console.error('カラーコードのコピーに失敗しました: ', err);
                        alert('コピーに失敗しました。');
                    });
                }
            });
        }
    });
</script>

</body>
</html>
