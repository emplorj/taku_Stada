<!DOCTYPE html>
<html lang="ja">

<head>
    <meta name="robots" content="noindex">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>キャラクターQ&A - 卓スタダ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="q_and_a.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body>
    <div id="home-logo-placeholder"></div>
    <canvas id="particleCanvas"></canvas>

    <div class="main-content">
        <div class="page-content-header">
            <header class="page-header-with-actions">
                <div class="header-main">
                    <h1>キャラクターQ&A</h1>
                    <p class="subtitle">お前のキャラの以外な一面が見られるかも</p>
                </div>
            </header>
            <div class="qa-controls plain-text-block">
                <div class="filter-group"><label for="pl-filter">PL名で絞り込み:</label><select id="pl-filter">
                        <option value="all">すべてのPL</option>
                    </select></div>
                <div class="filter-group"><label for="system-filter">システムで絞り込み:</label><select id="system-filter">
                        <option value="all">すべてのシステム</option>
                    </select></div>
                <div class="filter-group"><label for="pc-search">PC名で検索:</label><input type="text" id="pc-search"
                        placeholder="PC名を入力..."></div>
                <div class="header-actions"><button id="open-modal-button" class="add-new-button">✨ 新規登録</button></div>
            </div>
        </div>
        <div class="qa-main-container" id="qa-main-container">
            <aside class="qa-character-list" id="character-list">
                <p>キャラクターを読み込み中...</p>
            </aside>
            <main class="qa-details-view" id="qa-details-view">
                <div class="qa-placeholder">
                    <p>左のリストからキャラクターを選択してください。</p>
                </div>
            </main>
        </div>
    </div>

    <div id="add-character-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="modal-close-button">×</span>
            <div id="wizard-container">
                <div data-step="1" class="active">
                    <h2>Step 1: 基本情報を入力</h2>
                    <div class="form-grid">
                        <div class="form-group"><label for="form-pcName">PC名</label><input type="text" id="form-pcName"
                                list="pc-name-suggestions" required autocomplete="off"><datalist
                                id="pc-name-suggestions"></datalist></div>
                        <div class="form-group"><label for="form-plName">PL名</label><input type="text" id="form-plName"
                                list="pl-name-suggestions" required autocomplete="off"><datalist
                                id="pl-name-suggestions"></datalist></div>
                        <div class="form-group"><label for="form-system">システム</label><select id="form-system" required
                                autocomplete="off">
                                <option value="">システムを選択してください</option>
                            </select></div>
                        <div class="form-group"><label for="form-firstScenario">初登場シナリオ</label><input type="text"
                                id="form-firstScenario" list="scenario-suggestions" autocomplete="off"><datalist
                                id="scenario-suggestions"></datalist></div>
                    </div>
                    <div class="wizard-nav"><span></span><button id="btn-step1-next" class="wizard-btn">次へ</button>
                    </div>
                </div>
                <div data-step="2">
                    <h2>Step 2: キャラクター画像</h2>
                    <p class="form-description">画像のURLを入力してください。(例: Imgur,
                        Twitterなど)<br>この画像は質疑応答中に右側に表示されます。<br>discordのだと24時間ぐらいでリンク切れするから注意ね</p>
                    <div class="form-group"><label for="form-imageUrl">画像URL</label><input type="url" id="form-imageUrl"
                            placeholder="https://example.com/image.png" autocomplete="off"></div>
                    <div class="wizard-nav"><button id="btn-step2-prev" class="wizard-btn-secondary">戻る</button><button
                            id="btn-step2-next" class="wizard-btn">質疑応答へ進む</button></div>
                </div>
                <div data-step="3">
                    <h2>Step 3: 質疑応答</h2>
                    <div class="chat-grid-container">
                        <div class="chat-main-area">
                            <div class="chat-container" id="chat-container"></div>
                            <div class="chat-input-area">
                                <div id="chat-input-wrapper" class="chat-input-wrapper">
                                    <textarea id="chat-input" placeholder="回答を入力..." rows="1"
                                        spellcheck="false"></textarea>
                                </div>
                                <button id="btn-send-answer" class="wizard-btn">送信</button>
                            </div>
                            <div class="spoiler-tip">
                                <strong>Tips:</strong> ||で囲うとネタバレ防止ができます (例: <span class="spoiler-text">テスト</span>)
                            </div>
                        </div>
                        <div class="chat-character-image" id="chat-character-image"></div>
                    </div>
                    <div class="wizard-nav"><button id="btn-step3-prev" class="wizard-btn-secondary">戻る</button><button
                            id="btn-finish" class="wizard-btn-finish" disabled>全て完了し登録する</button></div>
                </div>
                <div data-step="4">
                    <div class="final-status-container"></div>
                </div>
            </div>
        </div>
    </div>

    <button onclick="topFunction()" id="backToTopBtn" title="トップへ戻る">▲</button>

    <script src="common.js"></script>
    <script src="q_and_a.js"></script>
</body>

</html>